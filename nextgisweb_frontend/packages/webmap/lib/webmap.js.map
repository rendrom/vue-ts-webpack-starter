{"version":3,"file":"webmap.js","sources":["../src/utils/lang.ts","../../../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../src/entities/entry/TreeUtil.ts","../src/entities/entry/TreeHelper.ts","../src/entities/entry/properties/BaseProperty.ts","../src/entities/entry/properties/CheckProperty.ts","../src/entities/entry/properties/EntryProperties.ts","../src/entities/entry/Entry.ts","../src/entities/WebLayerEntry.ts","../src/entities/keys/KeysCodes.ts","../src/entities/keys/Keys.ts","../src/entities/WebMap.ts","../src/webmap.ts"],"sourcesContent":["const opts = Object.prototype.toString;\r\n\r\nexport function isString(it) {\r\n  return (typeof it === 'string' || it instanceof String); // Boolean\r\n}\r\n\r\n/**\r\n * Return true if it is a Function\r\n * @param it Item to test.\r\n */\r\nexport function isFunction(it) {\r\n  return opts.call(it) === '[object Function]';\r\n}\r\n\r\nexport function getProp(parts: any[], create: boolean, context: object) {\r\n  try {\r\n    for (let i = 0; i < parts.length; i++) {\r\n      const p = parts[i];\r\n      if (!(p in context)) {\r\n        if (create) {\r\n          context[p] = {};\r\n        } else {\r\n          return;\t\t// return undefined\r\n        }\r\n      }\r\n      context = context[p];\r\n    }\r\n    return context; // mixed\r\n  } catch (e) {\r\n    // \"p in context\" throws an exception when context is a number, boolean, etc. rather than an object,\r\n    // so in that corner case just return undefined (by having no return statement)\r\n  }\r\n}\r\n\r\nexport function setObject(name: string, value, context: object) {\r\n  const parts = name.split('.');\r\n  const p = parts.pop();\r\n  const obj = getProp(parts, true, context);\r\n  return obj && p ? (obj[p] = value) : undefined; // Object\r\n}\r\n\r\nexport function hitch(scope, method) {\r\n\r\n  if (!method) {\r\n    method = scope;\r\n    scope = null;\r\n  }\r\n  if (isString(method)) {\r\n    scope = scope;\r\n    if (!scope[method]) {throw (['lang.hitch: scope[\"', method, '\"] is null (scope=\"', scope, '\")'].join('')); }\r\n    return function() {return scope[method].apply(scope, arguments || []); }; // Function\r\n  }\r\n  return !scope ? method : function() {return method.apply(scope, arguments || []); }; // Function\r\n}\r\n\r\nexport function deepmerge(target, src, mergeArray = false) {\r\n  const array = Array.isArray(src);\r\n  let dst: any = array && [] || {};\r\n\r\n  if (array) {\r\n\r\n    if (mergeArray) {\r\n      target = target || [];\r\n      dst = dst.concat(target);\r\n      src.forEach(function(e, i) {\r\n        if (typeof dst[i] === 'undefined') {\r\n          dst[i] = e;\r\n        } else if (typeof e === 'object') {\r\n          dst[i] = deepmerge(target[i], e, mergeArray);\r\n        } else {\r\n          if (target.indexOf(e) === -1) {\r\n            dst.push(e);\r\n          }\r\n        }\r\n      });\r\n    } else { // Replace array. Do not merge by default\r\n      dst = src;\r\n    }\r\n\r\n  } else {\r\n    if (target && typeof target === 'object') {\r\n      Object.keys(target).forEach(function(key) {\r\n        dst[key] = target[key];\r\n      });\r\n    }\r\n    Object.keys(src).forEach(function(key) {\r\n      if (typeof src[key] !== 'object' || !src[key]) {\r\n        dst[key] = src[key];\r\n      } else {\r\n        if (!target[key]) {\r\n          dst[key] = src[key];\r\n        } else {\r\n          dst[key] = deepmerge(target[key], src[key], mergeArray);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return dst;\r\n}\r\n\r\nexport function fixUrlStr(url: string) {\r\n  // remove double slash\r\n  return url.replace(/([^:]\\/)\\/+/g, '$1');\r\n}\r\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","export function filterIn(entry, filterFunc = (x) => x, relationFunc, _filtered = []) {\r\n  let child;\r\n  if (Array.isArray(entry)) {\r\n    child = entry;\r\n  } else {\r\n    const filter = filterFunc(entry);\r\n    if (filter) {\r\n      _filtered.push(entry);\r\n    }\r\n    const relChild = relationFunc(entry);\r\n    if (relChild) {\r\n      child = [].concat(relChild);\r\n    }\r\n  }\r\n  if (child) {\r\n    for (let fry = 0; fry < child.length; fry++) {\r\n      if (child[fry]) {\r\n        filterIn(child[fry], filterFunc, relationFunc, _filtered);\r\n      }\r\n    }\r\n  }\r\n  return _filtered;\r\n}\r\n","import { Entry } from './Entry';\r\nimport { filterIn } from './TreeUtil';\r\n\r\nexport class TreeHelper {\r\n\r\n  entry: Entry;\r\n\r\n  private _parent?: Entry;\r\n  private _children?: Entry[] = [];\r\n\r\n  constructor(entry: Entry) {\r\n    this.entry = entry;\r\n  }\r\n\r\n  // region Parents\r\n  setParent(parent: Entry) {\r\n    this._parent = parent;\r\n  }\r\n\r\n  addChildren(children: Entry) {\r\n    this._children.push(children);\r\n  }\r\n\r\n  getParent(): Entry {\r\n    return this._parent;\r\n  }\r\n\r\n  getParents(filterFunc?: (entry: Entry) => boolean): Entry[] {\r\n    if (this.getParent()) {\r\n      const generator = filterIn(this._parent, filterFunc, (x: Entry) => x.tree.getParent());\r\n      return generator;\r\n    }\r\n    return [];\r\n  }\r\n  // endregion\r\n\r\n  // region Child\r\n  getDescendants(filterFunc?: (entry: Entry) => boolean): any[] {\r\n    return filterIn(this._children, filterFunc, (x) => {\r\n      return x.tree.getChildren();\r\n    });\r\n  }\r\n\r\n  getChildren(): Entry[] {\r\n    return this._children;\r\n  }\r\n}\r\n","import {EventEmitter} from 'events';\r\nimport {Entry} from '../Entry';\r\n// import StrictEventEmitter from 'strict-event-emitter-types/types/src';\r\n\r\nexport interface IEntryBasePropertyOptions<V> {\r\n  hierarchy?: boolean;\r\n  bubble?: boolean;\r\n  propagation?: boolean;\r\n  silent?: boolean;\r\n  value?: V;\r\n  getProperty?: () => V;\r\n  onSet?: (value: V, options?: IEntryBasePropertyOptions<V>) => void;\r\n}\r\n\r\n// export interface BasePropertyEvents<V, O> {\r\n//   'change': {value: V, options: O};\r\n//   'change-tree': {value: V, options: O, entry: Entry};\r\n// }\r\n\r\nexport class BaseProperty<V = any, O extends IEntryBasePropertyOptions<V> = IEntryBasePropertyOptions<V> > {\r\n\r\n  options: O;\r\n\r\n  // emitter: StrictEventEmitter<EventEmitter, BasePropertyEvents<V, O>> = new EventEmitter();\r\n  emitter = new EventEmitter();\r\n  name: string;\r\n\r\n  entry: Entry;\r\n  _blocked: boolean;\r\n\r\n  private _value: V;\r\n  private _removeEventsListener?: () => void;\r\n  private _container: HTMLElement;\r\n\r\n  constructor(name: string, entry: Entry, options: O) {\r\n    this.entry = entry;\r\n    this.options = Object.assign({}, options);\r\n    this.name = name;\r\n    this._value = this.getProperty();\r\n  }\r\n\r\n  getProperty() {\r\n    if (typeof this.options.getProperty === 'function') {\r\n      return this.options.getProperty.call(this);\r\n    }\r\n    return this.options.value;\r\n  }\r\n\r\n  getParents(): Entry[] {\r\n    return this.entry.tree.getParents() || [];\r\n  }\r\n\r\n  getParent() {\r\n    return this.entry.tree.getParent();\r\n  }\r\n\r\n  isGroup() {\r\n    const children = this.entry.tree.getDescendants();\r\n    return children.length;\r\n  }\r\n\r\n  isBlocked() {\r\n    if (this._blocked === undefined) {\r\n      const parents = this.entry.tree.getParents();\r\n      if (parents) {\r\n        const isBlocked = parents.find((x: Entry) => {\r\n          const parentProp = x.properties.get(this.name);\r\n          if (parentProp) {\r\n            return !parentProp.value();\r\n          }\r\n        });\r\n        this._blocked = !!isBlocked;\r\n      } else {\r\n        this._blocked = false;\r\n      }\r\n    }\r\n    return this._blocked;\r\n  }\r\n\r\n  set(value: V, options?: O) {\r\n    this._value = this._prepareValue(value);\r\n\r\n    this.update(this._value, options);\r\n    this._fireChangeEvent(this._value, options);\r\n  }\r\n\r\n  // shortcut for getValue\r\n  value(): V {\r\n    return this.getValue();\r\n  }\r\n\r\n  update(value?: V, options?: O) {\r\n    this._callOnSet(value, options);\r\n  }\r\n\r\n  getContainer() {\r\n    return this._container;\r\n  }\r\n\r\n  destroy() {\r\n    if (this._container) {\r\n      this._container.parentNode.removeChild(this._container);\r\n    }\r\n    if (this._removeEventsListener) {\r\n      this._removeEventsListener();\r\n    }\r\n  }\r\n\r\n  getValue(): V {\r\n    return this._value !== undefined ? this._value : this.getProperty();\r\n  }\r\n\r\n  _prepareValue(value: V): V {\r\n    return value;\r\n  }\r\n\r\n  _callOnSet(value: V, options: O) {\r\n    if (this.options.onSet) {\r\n      this.options.onSet.call(this, value, options);\r\n    }\r\n  }\r\n\r\n  _fireChangeEvent(value: V, options: O) {\r\n    value = value !== undefined ? value : this.getValue();\r\n    this.emitter.emit('change', {value, options});\r\n    const parents = this.entry.tree.getParents();\r\n    parents.forEach((x) => {\r\n      const prop = x.properties.get(this.name);\r\n      if (prop) {\r\n        prop.emitter.emit('change-tree', {value, options, entry: this.entry});\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {BaseProperty, IEntryBasePropertyOptions} from './BaseProperty';\r\nimport {Entry} from '../Entry';\r\n\r\ninterface ICheckOptions extends IEntryBasePropertyOptions<boolean> {\r\n  label?: string;\r\n\r\n  turnOff?: () => void;\r\n  turnOn?: () => void;\r\n}\r\n\r\nexport class CheckProperty<V = boolean, O = ICheckOptions> extends BaseProperty<boolean, ICheckOptions> {\r\n\r\n  static options: ICheckOptions = {\r\n    hierarchy: true,\r\n    bubble: false,\r\n    propagation: false,\r\n    label: 'Toggle',\r\n    // PropertyContainer: IndicatorContainer\r\n  };\r\n\r\n  constructor(name, entry, options) {\r\n    super(name, entry, Object.assign({}, CheckProperty.options, options));\r\n    this.set(this.value());\r\n  }\r\n\r\n  update(value: boolean, options: ICheckOptions) {\r\n    if (value) {\r\n      const bubble = (options && options.bubble) || this.options.bubble;\r\n      if (bubble) {\r\n        this.unBlock(options);\r\n        const parent = this.getParent();\r\n        const property = parent && parent.properties.get(this.name);\r\n        if (property) {\r\n          property.set(value, Object.assign({}, options, {bubble: true, propagation: false}));\r\n        }\r\n      }\r\n      if (!this.isBlocked()) {\r\n        this._turnOn(options);\r\n      }\r\n    } else {\r\n      this._turnOff(options);\r\n    }\r\n    const propagation = (options && options.propagation) || this.options.propagation;\r\n    if (propagation) {\r\n      this._propagation(value, options);\r\n    }\r\n  }\r\n\r\n  getHierarchyValue() {\r\n    return this.value() && this.getParents().every((x) => {\r\n      const property = x.properties[this.name];\r\n      return property && property.get();\r\n    });\r\n  }\r\n\r\n  _prepareValue(value: boolean) {\r\n    return !!value;\r\n  }\r\n\r\n  _turnOff(options: ICheckOptions) {\r\n    if (this.options.turnOff) {\r\n      this.options.turnOff.call(this, options);\r\n    }\r\n    this._callOnSet(false, options);\r\n    if (this.options.hierarchy && this.isGroup()) {\r\n      this.blockChilds(options);\r\n    }\r\n  }\r\n\r\n  _turnOn(options: ICheckOptions) {\r\n    if (this.options.turnOn) {\r\n      this.options.turnOn.call(this, options);\r\n    }\r\n    this._callOnSet(true, options);\r\n    if (this.options.hierarchy && this.isGroup()) {\r\n      this.unblockChilds(options);\r\n    }\r\n  }\r\n\r\n  block(options: ICheckOptions) {\r\n    this._blocked = true;\r\n    this._block(options);\r\n  }\r\n\r\n  _block(options: ICheckOptions) {\r\n    this._turnOff(options);\r\n  }\r\n\r\n  unBlock(options: ICheckOptions) {\r\n    this._blocked = false;\r\n    if (this.getValue()) {\r\n      this._unBlock(options);\r\n    }\r\n  }\r\n\r\n  _unBlock(options: ICheckOptions) {\r\n    this._turnOn(options);\r\n  }\r\n\r\n  blockChilds(options: ICheckOptions) {\r\n    this.entry.tree.getDescendants().forEach(this._blockChild.bind(this, options));\r\n  }\r\n\r\n  unblockChilds(options: ICheckOptions) {\r\n    this.entry.tree.getChildren().forEach(this._unBlockChild.bind(this, options));\r\n  }\r\n\r\n  _blockChild(options: ICheckOptions, entry: Entry) {\r\n    const prop = entry.properties.get(this.name) as CheckProperty;\r\n    if (prop.block) {\r\n      prop.block(options);\r\n    }\r\n  }\r\n\r\n  _unBlockChild(options: ICheckOptions, entry: Entry) {\r\n    const prop = entry.properties.get(this.name) as CheckProperty;\r\n    if (prop.unBlock) {\r\n      prop.unBlock(options);\r\n    }\r\n  }\r\n\r\n  _propagation(value: boolean, options: ICheckOptions) {\r\n    if (this.isGroup()) {\r\n      const childs = this.entry.tree.getChildren();\r\n      for (let fry = 0; fry < childs.length; fry++) {\r\n        const child = childs[fry];\r\n        const property = child.properties.get(this.name) as CheckProperty;\r\n        if (property) {\r\n          property.set(value, {...options, ...{\r\n            propagation: true,\r\n            bubble: false,\r\n          }});\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { BaseProperty, IEntryBasePropertyOptions } from './BaseProperty';\r\nimport { CheckProperty } from './CheckProperty';\r\nimport { Entry } from '../Entry';\r\nimport { Type } from '../../../utils/Type';\r\n\r\nexport interface IEntryPropertyTypes {\r\n  'boolean': boolean;\r\n  'string': string;\r\n  'number': number;\r\n  'any': any;\r\n}\r\n\r\ninterface IEntryPropertyBaseConfig<K extends keyof IEntryPropertyTypes = any> {\r\n  type?: IEntryPropertyTypes[K];\r\n  name?: string;\r\n}\r\nexport interface IEntryPropertyConfig<K extends keyof IEntryPropertyTypes> extends IEntryPropertyBaseConfig<K> {\r\n  handler?: Type<BaseProperty<IEntryPropertyTypes[K]>>;\r\n}\r\n\r\nexport interface IEntryPropertyConfig<K extends keyof IEntryPropertyTypes> extends IEntryPropertyBaseConfig<K> {\r\n  getProperty?(): IEntryPropertyTypes[K];\r\n  onSet?(value: IEntryPropertyTypes[K], options?: IEntryBasePropertyOptions<IEntryPropertyTypes[K]>): void;\r\n}\r\n\r\nexport class EntryProperties {\r\n\r\n  static handlers: { [name: string]: Type<BaseProperty> } = {\r\n    CheckProperty,\r\n  };\r\n\r\n  options = {};\r\n  entry: Entry;\r\n\r\n  private _properties: { [propName: string]: BaseProperty };\r\n  private _propertiesList: string[];\r\n\r\n  constructor(entry, propertiesList?: Array<IEntryPropertyConfig<keyof IEntryPropertyTypes>>) {\r\n\r\n    this.entry = entry;\r\n    this._properties = {};\r\n    this._propertiesList = []; // ordered list\r\n    if (propertiesList) {\r\n      propertiesList.forEach(this._setPropertyHandler.bind(this));\r\n    }\r\n  }\r\n\r\n  add(propOpt: IEntryPropertyConfig<keyof IEntryPropertyTypes>) {\r\n    this._setPropertyHandler(propOpt);\r\n  }\r\n\r\n  _setPropertyHandler(propOpt: IEntryPropertyConfig<keyof IEntryPropertyTypes>) {\r\n    const handlers = EntryProperties.handlers;\r\n    let handler = propOpt.handler;\r\n    if (!handler && propOpt.type) {\r\n      switch (propOpt.type) {\r\n        case 'boolean':\r\n          handler = handlers.CheckProperty;\r\n          break;\r\n        case 'string':\r\n          handler = handlers.BaseProperty;\r\n          break;\r\n        default:\r\n          handler = handlers.BaseProperty;\r\n      }\r\n    }\r\n    if (handler) {\r\n      const options = { ...propOpt || {} };\r\n      this._properties[propOpt.name] = new handler(\r\n        propOpt.name,\r\n        this.entry,\r\n        options,\r\n      );\r\n      this._propertiesList.push(propOpt.name);\r\n    }\r\n  }\r\n\r\n  update() {\r\n    this.list().forEach((x) => {\r\n      x.update();\r\n    });\r\n  }\r\n\r\n  value(name) {\r\n    const prop = this.get(name);\r\n    if (prop) {\r\n      return prop.value;\r\n    }\r\n  }\r\n\r\n  set<K extends keyof IEntryPropertyTypes>(\r\n    name: string,\r\n    value: IEntryPropertyTypes[K],\r\n    options?: IEntryBasePropertyOptions<IEntryPropertyTypes[K]>) {\r\n    const prop = this.get(name);\r\n    if (prop) {\r\n      return prop.set(value, options);\r\n    }\r\n  }\r\n\r\n  get(name) {\r\n    return this._properties[name];\r\n  }\r\n\r\n  list() {\r\n    return this._propertiesList.map((x) => this._properties[x]);\r\n  }\r\n\r\n  destroy() {\r\n    for (const p in this._properties) {\r\n      if (this._properties.hasOwnProperty(p)) {\r\n        const prop = this.get(p);\r\n        if (prop && prop.destroy) {\r\n          prop.destroy();\r\n        }\r\n      }\r\n    }\r\n    this._properties = null;\r\n    this._propertiesList = [];\r\n  }\r\n}\r\n","import {EventEmitter} from 'events';\r\nimport {TreeHelper} from './TreeHelper';\r\nimport {EntryProperties, IEntryPropertyConfig, IEntryPropertyTypes} from './properties/EntryProperties';\r\n\r\nexport interface EntryOptions {\r\n  properties?: Array<IEntryPropertyConfig<keyof IEntryPropertyTypes>>;\r\n}\r\n\r\nlet ID = 0;\r\n\r\nexport class Entry<O extends EntryOptions = EntryOptions> {\r\n\r\n  options: O;\r\n  id: string;\r\n\r\n  emitter = new EventEmitter();\r\n  properties: EntryProperties;\r\n  tree: TreeHelper;\r\n\r\n  constructor(options: EntryOptions) {\r\n    this.options = Object.assign({}, this.options, options);\r\n    this.id = String(ID++);\r\n    this.tree = new TreeHelper(this);\r\n  }\r\n\r\n  initProperties() {\r\n    this.properties = new EntryProperties(this, this.options.properties);\r\n  }\r\n}\r\n","import { Entry, EntryOptions } from './entry/Entry';\r\nimport { TreeGroup, TreeLayer } from '../interfaces/AppSettings';\r\nimport { MapAdapter } from '../interfaces/MapAdapter';\r\nimport { LayerAdapters } from '../interfaces/LayerAdapter';\r\n\r\nexport class WebLayerEntry extends Entry<EntryOptions> {\r\n  static options: EntryOptions = {\r\n    properties: [\r\n      {\r\n        type: 'boolean',\r\n        name: 'visibility',\r\n        getProperty() {\r\n          const entry: WebLayerEntry = this.entry;\r\n          if (entry.item.item_type === 'group') {\r\n            return true;\r\n          } else if (entry.item.item_type === 'layer') {\r\n            return entry.item.layer_enabled;\r\n          } else if (entry.item.item_type === 'root') {\r\n            return true;\r\n          }\r\n          return false;\r\n        },\r\n        onSet(value: boolean) {\r\n          const entry: WebLayerEntry = this.entry;\r\n          if (entry.item.item_type === 'layer') {\r\n            if (value) {\r\n              entry.map.showLayer(entry.id);\r\n            } else {\r\n              entry.map.hideLayer(entry.id);\r\n            }\r\n            entry.item.layer_enabled = value;\r\n          }\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  map: MapAdapter<any>;\r\n\r\n  item: TreeGroup | TreeLayer;\r\n\r\n  constructor(map: MapAdapter<any>,\r\n              item: TreeGroup | TreeLayer, options?: EntryOptions, parent?: WebLayerEntry) {\r\n    super(Object.assign({}, WebLayerEntry.options, options));\r\n    this.map = map;\r\n    this.item = item;\r\n    if (parent) {\r\n      this.tree.setParent(parent);\r\n    }\r\n    this.initProperties();\r\n    this.initItem(item);\r\n  }\r\n\r\n  initItem(item: TreeGroup | TreeLayer) {\r\n    let newLayer = item._layer;\r\n    if (item.item_type === 'group' || item.item_type === 'root') {\r\n      if (item.children && item.children.length) {\r\n        item.children.forEach((x) => {\r\n          const children = new WebLayerEntry(this.map, x, this.options, this);\r\n          this.tree.addChildren(children);\r\n        });\r\n      }\r\n    } else if (item.item_type === 'layer') {\r\n      const adapter = item.layer_adapter.toUpperCase() as keyof LayerAdapters;\r\n      newLayer = this.map.addLayer(adapter, Object.assign({\r\n        id: this.id,\r\n      }, item));\r\n    }\r\n    if (newLayer) {\r\n      item._layer = newLayer;\r\n      if (item.item_type === 'layer' && item.layer_enabled) {\r\n        this.properties.get('visibility').set(true);\r\n      }\r\n    } else {\r\n      // this.properties.get('visibility').set(true);\r\n    }\r\n  }\r\n\r\n  // region layer control\r\n  fit(): void {\r\n    if (this.item.item_type === 'layer') {\r\n      console.log(this.item);\r\n    }\r\n  }\r\n  //\r\n}\r\n","export class KeyCodes {\r\n  'backspace' = 8;\r\n  'tab' = 9;\r\n  'enter' = 13;\r\n  'shift' = 16;\r\n  'ctrl' = 17;\r\n  'alt' = 18;\r\n  'pause/break' = 19;\r\n  'caps_lock' = 20;\r\n  'escape' = 27;\r\n  'page_up' = 33;\r\n  'page_down' = 34;\r\n  'end' = 35;\r\n  'home' = 36;\r\n  'left_arrow' = 37;\r\n  'up_arrow' = 38;\r\n  'right_arrow' = 39;\r\n  'down_arrow' = 40;\r\n  'insert' = 45;\r\n  'delete' = 46;\r\n  'left_window_key' = 91;\r\n  'right_window_key' = 92;\r\n  'select_key' = 93;\r\n  'numpad_0' = 96;\r\n  'numpad_1' = 97;\r\n  'numpad_2' = 98;\r\n  'numpad_3' = 99;\r\n  'numpad_4' = 100;\r\n  'numpad_5' = 101;\r\n  'numpad_6' = 102;\r\n  'numpad_7' = 103;\r\n  'numpad_8' = 104;\r\n  'numpad_9' = 105;\r\n  'multiply' = 106;\r\n  'add' = 107;\r\n  'subtract' = 109;\r\n  'decimal_point' = 110;\r\n  'divide' = 111;\r\n  'f1' = 112;\r\n  'f2' = 113;\r\n  'f3' = 114;\r\n  'f4' = 115;\r\n  'f5' = 116;\r\n  'f6' = 117;\r\n  'f7' = 118;\r\n  'f8' = 119;\r\n  'f9' = 120;\r\n  'f10' = 121;\r\n  'f11' = 122;\r\n  'f12' = 123;\r\n  'num_lock' = 144;\r\n  'scroll_lock' = 145;\r\n  'semi-colon' = 186;\r\n  'equal_sign' = 187;\r\n  ',' = 188; // \"comma\";\r\n  '-' = 189; // \"dash\";\r\n  '.' = 190; // \"period\";\r\n  '/' = 191; // \"forward slash\";\r\n  '`' = 192; // \"grave accent\";\r\n  '[' = 219; // \"open bracket\";\r\n  '\\\\' = 220; // \"back slash\";\r\n  ']' = 221; // \"close braket\";\r\n  '\\'' = 222; // \"single quote\"\r\n}\r\n","import {KeyCodes} from './KeysCodes';\r\n\r\n/**\r\n * @param {string} key - key symbol\r\n * @param {string} func - action on key press\r\n * @param {number} [keyCode] - key code for special button like tab\r\n *\r\n * @export\r\n * @interface IKeyControl\r\n */\r\nexport interface IKeyControl {\r\n  key?: string;\r\n  keyCode?: number;\r\n  func: () => void;\r\n}\r\n\r\nexport class Keys {\r\n\r\n  keyCodeAlias = new KeyCodes();\r\n\r\n  keys: {[keyCode: number]: boolean} = {};\r\n\r\n  private _windowOnFocus?: () => void;\r\n  private _keysPressed?: () => void;\r\n  private _keysReleased?: () => void;\r\n\r\n  constructor() {\r\n    this._windowOnFocus = this.windowOnFocus.bind(this);\r\n    this._keysPressed = this.keysPressed.bind(this);\r\n    this._keysReleased = this.keysReleased.bind(this);\r\n    this.addKeyboardEventsListener();\r\n  }\r\n\r\n  pressed(keyName: keyof KeyCodes): boolean {\r\n    const code = this.keyCodeAlias[keyName];\r\n    if (code) {\r\n      return this.keys[code];\r\n    }\r\n  }\r\n\r\n  addKeyboardEventsListener() {\r\n    window.addEventListener('focus', this._windowOnFocus, false);\r\n    window.addEventListener('keydown', this._keysPressed, false);\r\n    window.addEventListener('keyup', this._keysReleased, false);\r\n  }\r\n\r\n  removeKeyboardEventsListener() {\r\n    window.removeEventListener('focus', this._windowOnFocus, false);\r\n    window.removeEventListener('keydown', this._keysPressed, false);\r\n    window.removeEventListener('keyup', this._keysReleased, false);\r\n  }\r\n\r\n  private keysPressed(e) {\r\n    e.stopPropagation();\r\n    if (!this.keys[e.keyCode]) {\r\n      this.keys[e.keyCode] = true;\r\n    }\r\n  }\r\n\r\n  private keysReleased(e) {\r\n    e.stopPropagation();\r\n    this.keys[e.keyCode] = false;\r\n  }\r\n\r\n  private windowOnFocus() {\r\n    this.keys = {};\r\n  }\r\n}\r\n","import { AppOptions, MapOptions } from '../interfaces/WebMapApp';\nimport { RuntimeParams } from '../interfaces/RuntimeParams';\nimport { deepmerge } from '../utils/lang';\n// import StrictEventEmitter from 'strict-event-emitter-types';\nimport { EventEmitter } from 'events';\nimport { WebLayerEntry } from './WebLayerEntry';\nimport { Keys } from './keys/Keys';\nimport { MapAdapter, MapClickEvent } from '../interfaces/MapAdapter';\nimport { Type } from '../utils/Type';\nimport { LayerAdapter, LayerAdapters } from '../interfaces/LayerAdapter';\nimport { StarterKit, AppSettings } from '../interfaces/AppSettings';\n\nexport class WebMap<M = any> {\n\n  options: MapOptions;\n\n  displayProjection = 'EPSG:3857';\n  lonlatProjection = 'EPSG:4326';\n\n  settings: AppSettings;\n\n  layers: WebLayerEntry;\n\n  emitter /** : StrictEventEmitter<EventEmitter, WebMapAppEvents> */ = new EventEmitter();\n\n  keys: Keys = new Keys(); // TODO: make injectable cashed\n\n  map: MapAdapter<M>;\n\n  runtimeParams: RuntimeParams[];\n  private _starterKits: StarterKit[];\n\n  private settingsIsLoading = false;\n\n  private _baseLayers: string[] = [];\n  private _extent: [number, number, number, number];\n\n  constructor(appOptions: AppOptions) {\n    this.map = appOptions.mapAdapter;\n    this._starterKits = appOptions.starterKits || [];\n\n    this._addEventsListeners();\n  }\n\n  async create(options: MapOptions): Promise<this> {\n\n    this.options = deepmerge(this.options || {}, options);\n\n    if (!this.settings && this._starterKits.length) {\n      await this.getSettings();\n    }\n\n    await this._setupMap();\n    console.log(1);\n    return this;\n  }\n\n  async getSettings(): Promise<AppSettings> {\n    if (this.settings) {\n      return Promise.resolve(this.settings);\n    }\n    if (this.settingsIsLoading) {\n\n      return new Promise<AppSettings>((resolve) => {\n        const onLoad = (x) => {\n          resolve(x);\n          this.emitter.removeListener('load-settings', onLoad);\n        };\n        this.emitter.on('load-settings', onLoad);\n      });\n\n    } else {\n      this.settingsIsLoading = true;\n      let settings: AppSettings | boolean;\n      try {\n        settings = {};\n\n        for (const kit of this._starterKits.filter((x) => x.getSettings)) {\n          const setting = await kit.getSettings.call(kit);\n          if (setting) {\n            Object.assign(settings, setting);\n          }\n        }\n      } catch (er) {\n        this.settingsIsLoading = false;\n        throw new Error(er);\n      }\n      if (settings) {\n        this.settings = settings;\n        this.settingsIsLoading = false;\n        this.emitter.emit('load-settings', settings);\n        return settings;\n      }\n    }\n  }\n\n  addBaseLayer(\n    layerName: string,\n    provider: keyof LayerAdapters | Type<LayerAdapter>,\n    options?: any): Promise<LayerAdapter> {\n\n    return this.map.addLayer(provider, { ...options, ...{ id: layerName } }, true).then((layer) => {\n      if (layer) {\n        this._baseLayers.push(layer.name);\n      }\n      return layer;\n    });\n  }\n\n  isBaseLayer(layerName: string): boolean {\n    return this._baseLayers.indexOf(layerName) !== -1;\n  }\n\n  // region MAP\n  private async _setupMap() {\n    if (this.settings) {\n      const { extent_bottom, extent_left, extent_top, extent_right } = this.settings;\n      if (extent_bottom && extent_left && extent_top && extent_right) {\n        this._extent = [extent_left, extent_bottom, extent_right, extent_top];\n        const extent = this._extent;\n        if (extent[3] > 82) {\n          extent[3] = 82;\n        }\n        if (extent[1] < -82) {\n          extent[1] = -82;\n        }\n      }\n    }\n    this.map.displayProjection = this.displayProjection;\n    this.map.lonlatProjection = this.lonlatProjection;\n    this.map.create({ target: this.options.target });\n\n    this._addTreeLayers();\n    await this._addLayerProviders();\n\n    this._zoomToInitialExtent();\n    this.emitter.emit('build-map', this.map);\n    return this;\n  }\n\n  private async _addTreeLayers() {\n    const settings = await this.getSettings();\n    if (settings) {\n      const rootLayer = settings.root_item;\n      if (rootLayer) {\n        this.layers = new WebLayerEntry(this.map, rootLayer);\n        this.emitter.emit('add-layers', this.layers);\n      }\n    }\n  }\n\n  private _zoomToInitialExtent() {\n    // const { lat, lon, zoom, angle } = this.runtimeParams.getParams();\n    // if (zoom && lon && lat) {\n    //   this.map.setCenter([\n    //     parseFloat(lon),\n    //     parseFloat(lat),\n    //   ],\n    //   );\n    //   this.map.setZoom(\n    //     parseInt(zoom, 10),\n    //   );\n\n    //   if (angle) {\n    //     this.map.setRotation(\n    //       parseFloat(angle),\n    //     );\n    //   }\n    // } else {\n    //   this.map.fit(this.options.displayConfig.extent);\n    // }\n    if (this._extent) {\n      this.map.fit(this._extent);\n    }\n  }\n\n  private async _addLayerProviders() {\n    try {\n\n      for await(const kit of this._starterKits.filter((x) => x.getLayerAdapters)) {\n        const adapters = await kit.getLayerAdapters.call(kit);\n        if (adapters) {\n          for await(const adapter of adapters) {\n            // this.map.layerAdapters[adapter.name] = adapter;\n            const newAdapter = await adapter.createAdapter(this.map);\n            if (newAdapter) {\n              this.map.layerAdapters[adapter.name] = newAdapter;\n            }\n          }\n        }\n      }\n    } catch (er) {\n      throw new Error(er);\n    }\n  }\n  // endregion\n\n  // region Events\n\n  private _addEventsListeners() {\n    // propagate map click event\n    this.map.emitter.on('click', (ev: MapClickEvent) => this._onMapClick(ev));\n  }\n\n  private _onMapClick(ev: MapClickEvent) {\n    this.emitter.emit('click', ev);\n    this._starterKits.forEach((x) => {\n      if (x.onMapClick) {\n        x.onMapClick(ev, this);\n      }\n    });\n  }\n\n  // endregion\n\n}\n","import { WebMap } from './entities/WebMap';\r\nimport { AppOptions, MapOptions } from './interfaces/WebMapApp';\r\nimport { LayerAdapter, LayerAdapters } from './interfaces/LayerAdapter';\r\nimport { MapAdapter } from './interfaces/MapAdapter';\r\nimport { StarterKit } from './interfaces/AppSettings';\r\nimport { DialogAdapter, DialogAdapterOptions } from './interfaces/DialogAdapter';\r\n\r\nexport {\r\n  WebMap, AppOptions,\r\n  LayerAdapter, LayerAdapters,\r\n  MapAdapter, MapOptions,\r\n  StarterKit,\r\n  DialogAdapter, DialogAdapterOptions,\r\n};\r\n\r\n// Composition root\r\nexport async function buildWebMap(appOpt: AppOptions, mapOpt: MapOptions): Promise<WebMap> {\r\n  const webMap = new WebMap(appOpt);\r\n  await webMap.create(mapOpt);\r\n  return webMap;\r\n}\r\n\r\n// declare global {\r\n//   interface Window {\r\n//     WebMap: WebMap;\r\n//     buildWebMap: (options, config) => Promise<WebMap>;\r\n//   }\r\n// }\r\n\r\n// @ts-ignore\r\nwindow.buildWebMap = buildWebMap;\r\n"],"names":["tslib_1.__extends","tslib_1.__asyncValues"],"mappings":"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"}